data <- read.table(file="data.csv",                   sep=",",                   header=T)## turn dates into usable datesdata$startDOY <- julian(as.Date(as.vector(paste(data$start,"-2004",sep="")),                                "%d-%b-%Y"),                        origin=as.Date("2004-01-01"))data$endDOY <- julian(as.Date(as.vector(paste(data$end,"-2004",sep="")),                              "%d-%b-%Y"),                      origin=as.Date("2004-01-01"))## use the midpoint of the field period as the date for my purposesdata$date <- floor((data$startDOY + data$endDOY)/2)## convert result and sample size to variancedata$y <- data$coalition2PP/100data$var <- data$y*(1-data$y)/data$sampleSize## compute upper and lower boundsdata$sd <- sqrt(data$var)data$lo <- data$y - 1.96*data$sddata$up <- data$y + 1.96*data$sd############################################################## the following commands for running WinBUGS via R2WinBUGS## I run a Mac and so use JAGS, so I don't run these commands############################################################## dump for WinBugsif(.Platform$OS.type == "unix")  library(R2WinBUGS,          lib.loc="/home/jackman/Library/R/library")if(.Platform$OS.type == "windows")  library(R2WinBUGS)foo <- list(y=data$y,            prec=1/data$var,            date=as.numeric(data$date - min(data$date) + 1),            org=as.integer(data$org),            NPOLLS=length(data$y),            NPERIODS=length(min(data$date):282),            alpha=c(rep(NA,              length(min(data$date):281)),              .5274)            )initfunc <- function(){  house <- rnorm(n=5,sd=.05)  NPERIODS <- length(min(data$date):282)  alpha <- c(runif(n=1,.4,.6),             runif(n=NPERIODS-2),             NA)  sigma <- runif(n=1,0,.01)  list(house=house,       alpha=alpha,       sigma=sigma)}daily <- bugs(data=foo,              inits=initfunc,              debug=T,              n.burnin=5000,              n.iter=55000,              n.thin=100,              parameters.to.save=c("alpha","house","sigma"),              model.file="kalman.bug")